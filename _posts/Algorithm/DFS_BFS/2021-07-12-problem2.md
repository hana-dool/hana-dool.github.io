---
title:  "[DFS] 백트래킹"
excerpt: "N-Queen"
categories:
  - AL_DFS_BFS
tags:
  - 1
last_modified_at: 2021-07-11

toc: true
toc_label: "Table Of Contents"
toc_icon: "cog"
toc_sticky: true

use_math: true
---

<br>

# 문제

- N-Queen 문제는 크기가 N × N인 체스판 위에 퀸 N개를 서로 공격할 수 없게 놓는 문제이다.
- N이 주어졌을 때, 퀸을 놓는 방법의 수를 구하는 프로그램을 작성하시오.
- <https://www.acmicpc.net/problem/9663>

```python
n = int(input())
cnt = 0
def dfs(lst):
    global cnt
    
    if len(lst) == n :# 중단부
        cnt += 1 # 출력부 
        return
    
    ### 가지치기부 ** 백트래킹의 핵심
    candidate = list(range(n))
    for i in range(len(lst)):
        if lst[i] in candidate :
            candidate.remove(lst[i])
        if lst[i] + len(lst) - i  in candidate :
            candidate.remove(lst[i] + len(lst) - i)
        if lst[i] - len(lst) + i in candidate :
            candidate.remove(lst[i] - len(lst) + i)
            
            
    if candidate: # 재귀부 
        for x in candidate :
            lst.append(x)
            dfs(lst)
            lst.pop()

for i in range(n):
    dfs([i])
print(cnt)
```

<br>

- 위와 같이, 체스판 N 개 위에 무턱대고 DFS 를 하기에는 너무 경우의 수가 많다.
- 즉 DFS 를 적용하기 전에, 후보군에 대해 가지치기를 하는것이 백트래킹이라 한다.

