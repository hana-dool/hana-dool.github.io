---
title:  "Pythonic Coding"
excerpt: "파이썬답게 코딩하기(~ing)"
categories:
  - Py_Effective
date : 2021-09-12 11:00:00 +0900
last_modified_at: 2021-09-12

toc: true
toc_label: "Table Of Contents"
toc_icon: "cog"
toc_sticky: true

use_math: true
---

 파이썬을 파이썬 답게 코딩하는 방법에 대해서 알아봅시다.
{: .notice--warning}

# [파이썬의 버전 알기](#link){: .btn .btn--primary} 

- 프로그램은 개발자들에 의해 서서히 유지 / 보수됩니다. 
- 같은 프로그램(파이썬) 을 사용하더라도 버전에 따라서 그 문법 / 결과물이 달라지기도 합니다. 

![png](/assets/images/Python/29_1.png)

- 위의 경우 2.x -> 3.x 로 진행될때에 변한 대표적인 파이썬 문법들입니다.
- 즉, 일관성을 지키기 위하여 다른 개발자와 협업할때에 다른 프로그램의 버전을 쓰는것은 일반적으로 용납되지 않습니다. 
- 그러므로 개발자들은 같은 프로그램의 버전을 사용하고, `requirements.txt` 등으로 같은 버전의 패키지를 쓰려고 ㅎㅂ니다.

> ## Version 체크하기

```python
import sys
print(sys.version)

>>> 3.8.1 (default, Jul 10 2020, 17:43:13)
```

- 위와 같이 , 파이썬의 버전을 sys 모듈에서 체크할 수 있습니다.

# [Pep 참고하기](#link){: .btn .btn--primary} 

- Pep 이란 PEP(Python Enhancement Proposal), 즉 파이썬 개선 제안서는 파이썬 코드를 어떻게 구성할지 알려주는 스타일 가이드 입니다. 
- 이러한 Pep 을 참고하여 많은 사람들이 코드 스타일을 일관되게 유지하려고 합니다. 
- Pep 에 대해서는 그 내용이 매우 방대하므로 여기에서는 매우 짧게 설명만하고 자세히는 다른 문서에서 따로 알아보도록 하겠습니다.

> ## 공백의기준

1. 탭이 아닌 스페이스로 들여쓴다. PyCharm 같은 IDE는 탭을 입력해도 SPACE로 변환하도록 디폴트 설정되어 있다.
2. 문법적으로 의미 있는 들여쓰기는 각 수준마다 스페이스 4개를 사용한다.
3. 표현식이 길어서 다음 줄로 이어지면 일반적인 들여쓰기 수준에 추가로 스페이스 4개를 더 들여쓴다.
4. 파일에서 함수와 클래스는 빈 줄 두 개로 구분해야 한다.
5. 클래스에서 메서드는 빈 줄 하나로 구분해야 한다.

> ## 명명(Naming)

1. 함수, 변수, 속성은 lowercase_underscore 형식을 지킨다.
2. 보호(protected) 인스턴스 속성은 _leading_underscore 형식을 지킨다.
3. 비공개(private) 인스턴스 속성은 __double_leading_underscore 형식을 지킨다.
4. 클래스와 예외는 CapitalizedWord 형식을 지킨다.
5. 모듈 수준 상수는 ALL_CAPS 형식을 따른다.
6. 클래스의 인스턴스 메소드의 첫 번째 파라미터는 'self'로 한다.
7. 클래스 메서드에서는 첫 번째 파라미터는 'cls'로 한다.

> ## 표현식과 문장

1. 긍정 표현식의 부정(if not a is b)대신에 인라인 부정(if a is not b)을 사용한다.
2. 빈 값을 확인할 때 길이를 비교하는 형식(ex. *if len(somelist) == 0*)이 아닌
   *if not somelist* 를 사용하자. 파이썬은 조건식에서 빈 문자열, 리스트는 False로 처리한다.
3. 항상 파일의 맨 앞에 `import`문을 놓는다.
4. 임포트는 '표준 라이브러리의 모듈, 서드파티 모듈, 자신이 만든 모듈' 섹션 순으로 구분해야 한다. 각각의 하위 섹션에서는 알파벳 순서로 임포트한다.

# [Bytes, str,unicode 차이알기](#link){: .btn .btn--primary} 

- 인코딩은 매우 중요합니다. 통계학을 공부하는 사람이라면, R 의 Default 언어가 CP949 인지 UTF-8 인지에 따라서 문자가 에러가 나기도 합니다.
- 만일, 나는 CP949 로만 처리가 가능한데, 클라이언트가 UTF-8 로 입력이 오면 어떡할까요? 
  - 상대방의 utf 를 binary stream 으로 변환하고, 그것을 다시 cp949 로 변환해야 할 것입니다.

> ## Bytes 인스턴스란? 

- bytes 인스턴스에 대해 간단히 소개한다.
  - str 문자열을 생성하는 방법은 " ㅁㄴㅇㄻㄴㅇㄹ"와 같이 따옴표 안에 문자나 숫자를 적는 것이다. 
  - 반대로 bytes는 b'\x41'과 같이 문자열 앞에 b를 붙여야 한다.
- 아까 bytes는 8비츠로 이루어진다고 했다. 유의미한 바이츠 인스턴스는 ascii 상수로만 이루어진다. 
  - 저 위의 b'\x41'가 보이는가? 41은 16진수의 수이고 10진수로 65다. 그리고 '\x'가 저 숫자가 16진수임을 보증한다. 
  - 저걸 디코드하면 'A'가 나올 것이다. 왜냐하면 'A'의 ASCII 코드가 65이기 때문이다.

```python
>>> b'\x41'
b'A'
```

> ## 파이썬에서 문자 Sequent 다루는법

- 파이썬에서 문자 Sequence 를 나타내는 방법은 유니코드 문자열 방식과, bytes 방식 2가지입니다. 
  - 문자는 str, 바이츠는 bytes 클래스로 표현합니다.
- 'str -> bytes'는 str의 encode 메소드를 통해야 한다.
- *bytes -> str'은 bytes의 decode 메소드를 통해야 한다.

```python
# example
'a'.encode(encoding='CP949') # 1.
b'\x45'.decode('CP949') # 2.
```

> ## 운영체제마다 다른 인코딩

- Ubuntu를 기준으로 인코딩, 디코딩 모두 기본 인코딩은 'utf-8'을 사용하며, 'CP949' 등 다른 인코딩을 사용하려면 메소드에 인자를 주면 됩니다. 기본 인코딩은 운영체제 환경에 따라 다를 수 있습니다.
- 윈도우를 사용하며 인코딩을 공부하기 위해 바탕화면에 txt 파일을 놓고 쓰고 지우고를 많이 반복했다고 합시다.

```python
fp = open('example.txt', 'r', encoding='utf-8').read()
```

- 위 코드의 결과가 무엇이 나왔을까요? *UnicodeDecodeError* 가 발생합니다.
-  윈도우는 기본적으로 CP949 인코딩을 사용한다. 그런데 그것을 utf-8 인코딩을 사용해 열었으니 안 열리는 것이다. 
- 각 인코딩 방법마다 글자를 표현하는 방법이 다르다. 위와 같은 일을 막기 위해서는 인코딩을 알아야 합니다..



<br>

 이제 하나하나 어떤식으로 파이썬을 파이썬답게 사용할 수 있는지 알아보겠습니다.
{: .notice--success}

